{"version":3,"file":"backbone-min.js","sources":["backbone.js"],"names":["root","factory","exports","require","define","amd","_","$","Backbone","jQuery","Zepto","ender","this","previousBackbone","array","push","slice","splice","VERSION","noConflict","emulateHTTP","emulateJSON","Events","on","name","callback","context","order","eventsApi","_events","events","index","undefined","findIndex","event","findLastIndex","length","ctx","once","self","off","apply","arguments","_callback","retain","ev","names","i","l","j","k","keys","trigger","args","call","allEvents","all","triggerEvents","eventSplitter","obj","action","rest","key","concat","test","split","a1","a2","a3","t","bind","unbind","watch","unwatch","shell","windowEventCore","extend","window","WEC","assembleEvents","scope","__class__","_formalEventList","_windowEventList","_objectEventList","_domobjEventHash","_normalEventHash","propertyName","indexOf","eventList","eventName","trim","Error","chunks","compact","substring","target","method","toUpperCase","isNaN","isTesting","debounce","parseInt","Model","Collection","View","energizeEvents","items","broker","_unmanagedEventList","leading","trailing","document","result","attributes","options","attrs","cid","uniqueId","collection","parse","defaults","set","changed","initialize","prototype","validationError","idAttribute","toJSON","clone","sync","get","attr","has","val","unset","changes","silent","changing","prev","current","_validate","_changing","_previousAttributes","id","isEqual","_pending","clear","hasChanged","isEmpty","changedAttributes","diff","old","previous","previousAttributes","fetch","model","success","resp","wrapError","save","xhr","validate","wait","serverAttrs","isObject","isNew","patch","destroy","url","base","urlError","charAt","encodeURIComponent","constructor","isValid","error","models","comparator","_reset","reset","setOptions","add","remove","merge","addOptions","map","singular","isArray","_byId","existing","sort","at","targetModel","sortable","sortAttr","isString","toAdd","toRemove","modelMap","_prepareModel","_onModelEvent","orderedModels","previousModels","sortBy","create","_removeReference","isRendered","isVisible","_ensureElement","render","_render","delegateEvents","delegateEventSplitter","tagName","selector","$el","find","show","css","hide","chid","temp","each","parent","Array","setElement","element","delegate","undelegateEvents","el","isFunction","match","className","type","methodMap","params","dataType","data","contentType","JSON","stringify","_method","beforeSend","setRequestHeader","processData","noXhrPatch","ActiveXObject","ajax","XMLHttpRequest","dispatchEvent","update","delete","read","Router","routes","_bindRoutes","optionalParam","namedParam","splatParam","escapeRegExp","route","isRegExp","_routeToRegExp","router","history","fragment","_extractParameters","navigate","pop","replace","optional","RegExp","exec","param","decodeURIComponent","History","handlers","bindAll","location","routeStripper","rootStripper","isExplorer","trailingSlash","pathStripper","started","interval","getHash","href","getFragment","forcePushState","_hasPushState","_wantsHashChange","pathname","start","hashChange","_wantsPushState","pushState","docMode","documentMode","oldIE","navigator","userAgent","toLowerCase","iframe","appendTo","contentWindow","checkUrl","_checkUrlInterval","setInterval","loc","atRoot","search","hash","replaceState","title","loadUrl","stop","clearInterval","unshift","e","any","handler","_updateHash","open","close","assign","protoProps","staticProps","child","Surrogate","__super__"],"mappings":"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"}